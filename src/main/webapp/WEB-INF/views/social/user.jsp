<%@ page language="java" contentType="text/html; charset=UTF-8"
	pageEncoding="UTF-8"%>
<html lang="ko">
<head>
<title>STYLE | the harmm</title>
<meta data-n-head="ssr" charset="utf-8">
<meta data-n-head="ssr" data-hid="description" name="description"
	content="한정판 거래의 FLEX, KICKS RULE EVERYTHING AROUND ME">
<meta data-n-head="ssr" data-hid="viewport" name="viewport"
	content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
<meta data-n-head="ssr" data-hid="google-site-verification"
	name="google-site-verification"
	content="n9xvZpoumVa_cedth9bLo1fgwQfIoGkw0Jmkray34FM">
<meta data-n-head="ssr" data-hid="naver-site-verification"
	name="naver-site-verification" property="naver-site-verification"
	content="ecf6ec0ed503754fbcec5f8c0a1fa4e94297f425">
<meta data-n-head="ssr" data-hid="og:type" name="og:type"
	property="og:type" content="website">
<meta data-n-head="ssr" data-hid="og:title" name="og:title"
	property="og:title" content="KREAM | 한정판 거래의 FLEX">
<meta data-n-head="ssr" data-hid="og:description" name="og:description"
	property="og:description" content="한정판을 거래하는 가장 확실한 방법">
<meta data-n-head="ssr" data-hid="og:image" name="og:image"
	property="og:image"
	content="https://kream.co.kr/images/index_og_kream.png">
<meta data-n-head="ssr" data-hid="format-detection"
	name="format-detection" content="telephone=no">
<link data-n-head="ssr" rel="icon" type="image/x-icon"
	href="/favicon.ico">
<link data-n-head="ssr" rel="search"
	type="application/opensearchdescription+xml"
	href="/resources/opensearch.xml" title="KREAM | 한정판 거래의 FLEX">
<link data-n-head="ssr" rel="preconnect"
	href="//kream-phinf.pstatic.net">
<link data-n-head="ssr" rel="preconnect"
	href="https://www.googletagmanager.com">
<link data-n-head="ssr" rel="preconnect"
	href="https://connect.facebook.net">
<script async="" src="https://websdk.appsflyer.com?st=pba&amp;"></script>
<script async="" src="https://websdk.appsflyer.com?st=pba&amp;"></script>
<script async="" src="https://websdk.appsflyer.com?st=pba&amp;"></script>
<script async="" src="https://websdk.appsflyer.com?st=pba&amp;"></script>
<script async="" src="https://websdk.appsflyer.com?st=pba&amp;"></script>
<script async="" src="https://websdk.appsflyer.com?st=pba&amp;"></script>
<script type="text/javascript" async=""
	src="https://www.google-analytics.com/analytics.js"></script>
<script type="text/javascript" async=""
	src="https://www.googletagmanager.com/gtag/js?id=UA-153398119-1&amp;l=dataLayer&amp;cx=c"></script>
<script async="" src="https://websdk.appsflyer.com?st=pba&amp;"></script>
<script
	src="https://connect.facebook.net/signals/config/740347893514718?v=2.9.91&amp;r=stable"></script>
<script src="https://connect.facebook.net/en_US/fbevents.js"></script>
<script data-n-head="ssr" type="application/ld+json">{"@context":"http://schema.org","@type":"Organization","name":"KREAM","url":"https://kream.co.kr/","logo":"https://kream.co.kr/images/logo.png","sameAs":["https://apps.apple.com/app/id1490580239","https://play.google.com/store/apps/details?id=com.fstudio.kream","https://www.instagram.com/kream.co.kr/","https://www.youtube.com/channel/UCHbInfTxnIbWlUFin7drigw"]}</script>
<link rel="preload"
	href="${pageContext.request.contextPath}/resources/css/4a42468.css">
<link rel="preload"
	href="${pageContext.request.contextPath}/resources/css/240da25.css">
<link rel="preload"
	href="${pageContext.request.contextPath}/resources/css/325de86.css">
<link rel="preload"
	href="${pageContext.request.contextPath}/resources/css/24dfaf3.css">
<link rel="preload"
	href="${pageContext.request.contextPath}/resources/css/a52fa45.css">
<link rel="preload"
	href="${pageContext.request.contextPath}/resources/css/0721927.css">
<link rel="preload"
	href="${pageContext.request.contextPath}/resources/css/c163ebe.css">
<link rel="stylesheet"
	href="${pageContext.request.contextPath}/resources/css/4a42468.css">
<link rel="stylesheet"
	href="${pageContext.request.contextPath}/resources/css/240da25.css">
<link rel="stylesheet"
	href="${pageContext.request.contextPath}/resources/css/325de86.css">
<link rel="stylesheet"
	href="${pageContext.request.contextPath}/resources/css/24dfaf3.css">
<link rel="stylesheet"
	href="${pageContext.request.contextPath}/resources/css/a52fa45.css">
<link rel="stylesheet"
	href="${pageContext.request.contextPath}/resources/css/0721927.css">
<link rel="stylesheet"
	href="${pageContext.request.contextPath}/resources/css/c163ebe.css">

<link
	href="${pageContext.request.contextPath}/resources/css/5a645b8.css"
	rel="stylesheet" type="text/css">

<link
	href="${pageContext.request.contextPath}/resources/css/2af9c94.css"
	rel="stylesheet" type="text/css">
<style type="text/css"> /*# sourceMappingURL=contenteditable.vue.map */
</style>
<script type="text/javascript" src="https://wcs.naver.net/wcslog.js"
	id="naver-ads" data-loaded="true"></script>
<link rel="preload"
	href="${pageContext.request.contextPath}/resources/css/f0dbc2f.css">
<script
	src="https://www.googletagmanager.com/gtag/js?l=dataLayer&amp;id=G-SRFKTMTR0R"></script>
<link rel="preload"
	href="${pageContext.request.contextPath}/resources/css/1e20f03.css">
<link rel="preload"
	href="${pageContext.request.contextPath}/resources/css/aca0784.css">
<link rel="preload"
	href="${pageContext.request.contextPath}/resources/css/9218b3f.css">
<link rel="preload"
	href="${pageContext.request.contextPath}/resources/css/60ed898.css">
<link rel="preload"
	href="${pageContext.request.contextPath}/resources/css/7836ff9.css">
<link rel="preload"
	href="${pageContext.request.contextPath}/resources/css/3dd8bc4.css">
<link rel="preload"
	href="${pageContext.request.contextPath}/resources/css/3e742b2.css">
<link rel="preload"
	href="${pageContext.request.contextPath}/resources/css/97ccca4.css">
<link rel="preload"
	href="${pageContext.request.contextPath}/resources/css/2bffad8.css">

<!-- 서은 추가 -->
<link rel="stylesheet"
	href="${pageContext.request.contextPath}/resources/css/pop.css">
<link rel="stylesheet"
	href="${pageContext.request.contextPath}/resources/css/upload.css">
<!-- sockJS -->
<script src="https://cdn.jsdelivr.net/npm/sockjs-client@1/dist/sockjs.min.js"></script>	
<!-- 알림 -->	
 <script src="${pageContext.request.contextPath}/resources/js/alarm.js" ></script>
<!-- 서은 추가 -->

<link rel="stylesheet"
	href="//code.jquery.com/ui/1.8.18/themes/base/jquery-ui.css" />
<script src="https://code.jquery.com/jquery-3.4.1.js"
	integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
	crossorigin="anonymous"></script>
<script
	src="https://cdn.ckeditor.com/ckeditor5/26.0.0/classic/ckeditor.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
<script src="//code.jquery.com/ui/1.8.18/jquery-ui.min.js"></script>
<style type="text/css">
#result_card img {
	max-width: 100%;
	height: auto;
	display: block;
	padding: 5px;
	margin-top: 10px;
	margin: auto;
}

#result_card {
	position: relative;
}

.imgDeleteBtn {
	position: absolute;
	top: 0;
	right: 5%;
	background-color: #ef7d7d;
	color: wheat;
	font-weight: 900;
	width: 30px;
	height: 30px;
	border-radius: 50%;
	line-height: 26px;
	text-align: center;
	border: none;
	display: block;
	cursor: pointer;
}
</style>
</head>
<body style="">
	<div id="__nuxt">
		<!---->
		<div id="__layout">
			<div data-v-34025556="" tabindex="0" class="wrap win_os lg">

				<%@ include file="/WEB-INF/views/common/header.jsp"%>
				<!---->
				<sec:authorize access="hasRole('ROLE_MEMBER')">
					<sec:authentication property="principal.username" var="MID" />
				</sec:authorize>

				<input type="hidden" name="mid" id="mid" value="${MID}">
				
				<div data-v-47cbe816="" data-v-34025556="" social=""
					class="container social lg">
					<div data-v-47cbe816="" class="content">
						<div data-v-45542174="" data-v-47cbe816=""
							class="social_user_area">
							<div data-v-45542174="" class="user_top">
								<div data-v-45542174="" class="profile_img_box">
									<img data-v-45542174=""
										src="${pageContext.request.contextPath}/resources/images/test2.jpg"
										alt="KREAM 프로필 이미지" class="profile_img">
								</div>
								<div data-v-45542174="" class="profile_info_box">
									<p data-v-45542174="" id = "member_email" class="user_name">
										${member_email}
										<!---->
									</p>
									<!---->
								</div>
							</div>
							<div data-v-45542174="" class="user_explain">
								<p data-v-45542174="" class="main_txt"></p>
								<!---->
							</div>

							<c:if test="${user eq '팔로우'}">
								<div data-v-cf374a10="" data-v-45542174="">
									<!---->
									<button data-v-575aff82="" data-v-625671d1=""
										data-v-cf374a10="" type="button" id = "followBtn"
										class="btn solid medium btn_follow medium">${user}</button>
								</div>
							</c:if>
							<c:if test="${user eq '팔로잉'}">
								<div data-v-cf374a10="" data-v-45542174="">
									<!---->
									<button data-v-575aff82="" data-v-625671d1=""
										data-v-cf374a10="" type="button" id = "followBtn"
										class="btn outlinegrey medium btn_follow medium">${user}</button>
								</div>
							</c:if>

						</div>
						<div data-v-392ec340="" data-v-47cbe816="" class="social_tab">
							<ul data-v-392ec340="" class="tab_list">
								<li data-v-392ec340="" class="tab_item" id="voc"><a
									data-v-392ec340="" class="tab_link" style="cursor: hand;"><span
										data-v-392ec340="" class="tab_menu">게시물</span><span
										data-v-392ec340="" class="menu_count">${listTotal}</span></a></li>
								<li data-v-392ec340="" class="tab_item" id="follower"><a
									data-v-392ec340="" class="tab_link" style="cursor: hand;"><span
										data-v-392ec340="" class="tab_menu">팔로워</span><span id = "followerCnt"
										data-v-392ec340="" class="menu_count">${followerCnt}</span></a></li>
								<li data-v-392ec340="" class="tab_item" id="following"><a
									data-v-392ec340="" class="tab_link" style="cursor: hand;"><span id = "followingCnt"
										data-v-392ec340="" class="tab_menu">팔로잉</span><span
										data-v-392ec340="" class="menu_count">${followingCnt}</span></a></li>
							</ul>
						</div>
						<c:if test="${listCheck == 'empty'}">
							<div data-v-6c53047a="" data-v-47cbe816=""
								class="social_feeds_empty top_line">
								<div data-v-6c53047a="" class="empty_box">
									<svg data-v-6c53047a="" xmlns="http://www.w3.org/2000/svg"
										class="empty_icon icon sprite-icons">
                           <use data-v-6c53047a=""
											href="/_nuxt/3182c3b1ca2f77da7bc3e1acf109306c.svg#i-social-camera-big"
											xlink:href="/_nuxt/3182c3b1ca2f77da7bc3e1acf109306c.svg#i-social-camera-big"></use></svg>
									<strong data-v-6c53047a="" class="empty_title">게시물 없음</strong>
									<p data-v-6c53047a="" class="empty_txt">앱에서 사진을 공유하면 내 프로필에
										표시됩니다.</p>
									<!-- <img data-v-45542174=""
                              src="${pageContext.request.contextPath}/resources/images/button.jpg">-->

								</div>
							</div>
						</c:if>
						<c:if test="${listcheck != 'empty'}">
							<div data-v-013cc4d0="" data-v-47cbe816="" class="social_feeds"
								style="height: 1000px;">
								<div data-v-013cc4d0="" transition-duration="0"
									item-selector=".item" gutter=".gutter_item"
									horizontal-order="true" class="masonry_posts"
									style="position: relative; height: 1462px;">
									<div data-v-013cc4d0="" class="gutter_item"></div>
									<!-- <div>${list}</div>
                           <div>${pageMaker }</div>-->
									<c:forEach items="${list}" var="item" varStatus="status">
										<c:set var="i" value="${i+300}" />
										<div data-v-47728778="" data-v-013cc4d0=""
											class="feed_card item vertical"
											style="position: absolute; left: ${status.index*300%1200}px; top: ${(status.index/4-status.index%4/4) * 500 }px;">
											<a data-v-47728778="" href="${pageContext.request.contextPath}/social/user/details?post_id=${item.post_id}"><div data-v-47728778=""
													class="card_box">
													<div data-v-47728778="" class="social_img_box vertical">
														<picture data-v-878ec45c="" data-v-47728778=""
															class="picture social_img"> <img
															referrerpolicy="no-referrer"
															src="${pageContext.request.contextPath}/${item.upload_path}/${item.uuid}_${item.file_name}"
															loading="auto" class="image"></picture>
													</div>
													<div data-v-47728778="" class="card_detail">
														<div data-v-47728778="" class="user_box">
															<picture data-v-878ec45c="" data-v-47728778=""
																class="picture img_profile"> <img
																data-v-878ec45c="" alt="사용자 프로필 이미지"
																referrerpolicy="no-referrer"
																src="${pageContext.request.contextPath}/resources/images/test2.jpg"
																loading="auto" class="image"></picture>
															<p data-v-47728778="" class="user_name">${item.member_email}</p>
															<span data-v-47728778="" aria-label="좋아요" role="button"
																class="btn like"><svg data-v-47728778=""
																	xmlns="http://www.w3.org/2000/svg"
																	class="icon sprite-icons social-like-gray-sm">
                                          <use data-v-47728778=""
																		href="/_nuxt/3182c3b1ca2f77da7bc3e1acf109306c.svg#i-social-like-gray-sm"
																		xlink:href="/_nuxt/3182c3b1ca2f77da7bc3e1acf109306c.svg#i-social-like-gray-sm"></use></svg><span
																data-v-47728778="" class="like_count">${item.post_id}</span></span>
														</div>
														<p data-v-47728778="" class="text_box">${item.contents}</p>
														<!---->
													</div>
												</div>
												<div data-v-47728778="" class="img_count">
													<span data-v-47728778="" class="count"></span>
												</div></a>
										</div>

									</c:forEach>
								</div>
							</div>
						</c:if>
						<form action="/social/user/postEnroll" method="post" id="enrollForm">
							<!-- 긍부정 percent, result 처리 -->
							<input type = "hidden" id = "sentiment_percent" name = "sentiment_percent"/>
							<input type = "hidden" id = "sentiment_result" name = "sentiment_result"/>
							<div data-v-1a009402="" data-v-71b8d4b9="" data-v-61d3533a=""
								class="layer_delivery layer lg" style="display: none;">
								<div data-v-1a009402="" class="layer_container"
									style="padding: 40px; width: auto">
									<a data-v-71b8d4b9="" data-v-1a009402=""
										class="btn_layer_close">
										<div data-v-71b8d4b9="" data-v-1a009402=""></div> <!---->
									</a>

									<div>
										<div data-v-1a009402="" class="layer_header">
											<h2 data-v-71b8d4b9="" data-v-1a009402=""
												style="padding: 0; font-size: 24px" class="title">게시물
												추가</h2>
										</div>
										<div id="upload_box">
											<div>
												<div id="upload_imgbox" style="margin-right: 30px">
													<p class="board_text1">사진 추가하기</p>
													<form class="container" onsubmit="return sendit()">
														<div class="filebox">
															<input class="upload-name" style="display: none;"
																disabled="disabled" multiple>
															<!-- <label class="board_text2" id="ww" for="fileItem">여기를 누르면 사진이 추가됩니다</label>  -->
															<input style="margin: 10px" type="file" id="fileItem"
																style="display: block" name="uploadFile"
																class="upload-hidden" multiple>
															<div id="uploadResult"></div>

															<!-- <input type="file" id="fileItem" name="uploadFile" style="height: 30px;" multiple=""> -->

														</div>
														<input type="submit" id="formSub" style="display: none">
														<div id="muti_list"
															style="display: flex; flex-wrap: wrap;"></div>
													</form>
												</div>
											</div>

											<div style="width: 500px; padding-right: 30px">
												<textarea type="text" placeholder="공유하고 싶은 글을 입력하세요."
													id="upload_textbox" name="contents" maxlength="5000"
													style="resize: none;"></textarea>
												<div id="upload_product">
													<div>
														<p id="upload_product_tag">
															상품태그 <span style="color: red; font-size: 1.1rem">*태그는
																3개 까지만 가능합니다.</span>
														</p>
														<input type="hidden" name="pid0" value="0">
														<input type="hidden" name="pid1" value="0">
														<input type="hidden" name="pid2" value="0">
													</div>
													<div id="upload_img_box" style="margin-top: 15px">
														<div class="upload_plus_box" id="search_product" data-pid = "no">
															<img src="/lib/img/2561435_plus_file_icon.png" alt=""
																class="upload_plus_img">
															<p>상품 추가하기</p>
														</div>
													</div>

												</div>
											</div>

										</div>
										<div data-v-71b8d4b9="" data-v-1a009402="" class="layer_btn2"
											style="display: flex; justify-content: center; padding-top: 30px">
											<a data-v-575aff82="" data-v-71b8d4b9=""
												class="btn btn_delete outlinegrey medium"
												style="flex-grow: 1;" data-v-1a009402=""> 취소 </a><a
												data-v-575aff82="" data-v-71b8d4b9="" id="btn_save"
												disabled="disabled" class="btn btn_save solid medium"
												style="flex-grow: 1;" data-v-1a009402=""> 확인<input
												type="hidden" name="${_csrf.parameterName}"
												value="${_csrf.token}">
											</a>
										</div>
									</div>

									<!-- 모달 -->
								</div>
							</div>
						</form>
						<div data-v-1a009402="" data-v-71b8d4b9="" data-v-61d3533a=""
							class="layer_delivery layer lg2" style="display: none;">
							<div data-v-1a009402="" class="layer_container">
								<a data-v-55a73341="" data-v-1a009402="" class="btn_layer_close"><svg
										data-v-55a73341="" data-v-1a009402=""
										xmlns="http://www.w3.org/2000/svg"
										class="ico-close icon sprite-icons">
                              <use data-v-55a73341="" data-v-1a009402=""
											href="/_nuxt/3182c3b1ca2f77da7bc3e1acf109306c.svg#i-ico-close"
											xlink:href="/_nuxt/3182c3b1ca2f77da7bc3e1acf109306c.svg#i-ico-close"></use></svg></a>
								<div data-v-1a009402="" class="layer_header">
									<h2 data-v-55a73341="" data-v-1a009402="" class="title">
										팔로워 <span data-v-55a73341="" data-v-1a009402="" class="count"></span>
									</h2>
								</div>
								<div data-v-1a009402="" class="layer_content">
								
									<!-- 팔로우가 없는 경우 -->
									<div data-v-6c53047a="" data-v-55a73341=""
										class="social_feeds_empty" data-v-1a009402="">
										<div data-v-6c53047a="" class="empty_box">
											<svg data-v-6c53047a="" xmlns="http://www.w3.org/2000/svg"
												class="empty_icon icon sprite-icons">
                                    <use data-v-6c53047a=""
													href="/_nuxt/3182c3b1ca2f77da7bc3e1acf109306c.svg#i-social-user-big"
													xlink:href="/_nuxt/3182c3b1ca2f77da7bc3e1acf109306c.svg#i-social-user-big"></use></svg>
											<strong data-v-6c53047a="" class="empty_title">팔로워</strong>
											<p data-v-6c53047a="" class="empty_txt">tmdgk95님을 팔로우하는
												사용자가 없습니다.</p>

										</div>
									</div>
									<!-- 팔로우가 없는 경우 -->
									
									<!-- 팔로우 있는 경우 -->
									<div data-v-754300ce="" data-v-55a73341=""
										class="user_list_content" style = "display = none" data-v-1a009402="">
										<ul data-v-754300ce="" class="user_list">
											<li data-v-754300ce="" class="user_item"><div
													data-v-754300ce="" class="user_box">
													<a data-v-754300ce="" href="#" class="user_link"><div
															data-v-754300ce="" class="img_box">
															<img data-v-754300ce=""
																src="https://kream-phinf.pstatic.net/MjAyMDExMDZfMjAz/MDAxNjA0NjQ5OTM1NDk5.edZ7v2ODWVS7_M8PXg8B0PNU5UlsTWup2XHwuKkEEXsg.lNHXDE66TKM0yl1nIOO70PWNUtK4TcdgD1lImetPB48g.JPEG/p_8d36c20aaeb94c6681619dcd775f5286.jpeg?type=sl"
																alt="KREAM 프로필 이미지" class="profile_img">
														</div>
														<div data-v-754300ce="" class="info_box">
															<span data-v-754300ce="" class="user_name is_official"><span
																data-v-754300ce="" class="user_name_text">kream.challenge</span></span><span
																data-v-754300ce="" class="user_subname">KREAM 챌린지</span>
														</div></a>
													<div data-v-754300ce="" class="user_box_follow">
														<button data-v-575aff82="" data-v-625671d1=""
															data-v-754300ce="" type="button"
															class="btn solid small btn_follow small">팔로우</button>
													</div>
												</div></li>
											<div data-v-5f3540d5="" data-v-754300ce=""
												class="list_loading" style="display: none;">
												<img data-v-5f3540d5="" src="/_nuxt/img/loading.410eb77.gif"
													loading="lazy" alt="리스트 로딩중입니다." class="loading_img">
											</div>
										</ul>
										<!---->
									</div>
									<!-- 팔로우가 있는 경우 -->
									
									<div data-v-71b8d4b9="" data-v-1a009402="" class="layer_btn">
										<a data-v-575aff82="" data-v-71b8d4b9=""
											class="btn btn_delete2 outlinegrey medium" data-v-1a009402="">
											취소 </a>
									</div>
								</div>
							</div>
						</div>
						<div data-v-1a009402="" data-v-71b8d4b9="" data-v-61d3533a=""
							class="layer_delivery layer lg3" style="display: none;">
							<div data-v-1a009402="" class="layer_container">
								<a data-v-55a73341="" data-v-1a009402="" class="btn_layer_close"><svg
										data-v-55a73341="" data-v-1a009402=""
										xmlns="http://www.w3.org/2000/svg"
										class="ico-close icon sprite-icons">
                              <use data-v-55a73341="" data-v-1a009402=""
											href="/_nuxt/3182c3b1ca2f77da7bc3e1acf109306c.svg#i-ico-close"
											xlink:href="/_nuxt/3182c3b1ca2f77da7bc3e1acf109306c.svg#i-ico-close"></use></svg></a>
								<div data-v-1a009402="" class="layer_header">
									<h2 data-v-55a73341="" data-v-1a009402="" class="title">
										팔로잉 <span data-v-55a73341="" data-v-1a009402="" class="count"></span>
									</h2>
								</div>
								<div data-v-1a009402="" class="layer_content">
									<!---->
									<div data-v-6c53047a="" data-v-55a73341=""
										class="social_feeds_empty" data-v-1a009402="">
										<div data-v-6c53047a="" class="empty_box">
											<svg data-v-6c53047a="" xmlns="http://www.w3.org/2000/svg"
												class="empty_icon icon sprite-icons">
                                    <use data-v-6c53047a=""
													href="/_nuxt/3182c3b1ca2f77da7bc3e1acf109306c.svg#i-social-user-big"
													xlink:href="/_nuxt/3182c3b1ca2f77da7bc3e1acf109306c.svg#i-social-user-big"></use></svg>
											<strong data-v-6c53047a="" class="empty_title">팔로잉</strong>
											<p data-v-6c53047a="" class="empty_txt">tmdgk95님이 팔로잉하는
												사용자가 없습니다.</p>

										</div>
									</div>
									<div data-v-71b8d4b9="" data-v-1a009402="" class="layer_btn">
										<a data-v-575aff82="" data-v-71b8d4b9=""
											class="btn btn_delete3 outlinegrey medium" data-v-1a009402="">
											취소 </a>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<%@ include file="/WEB-INF/views/common/footer.jsp"%>
			<div data-v-34025556="">
				<!---->
				<div data-v-66ae1b7c="" id="toast" class="toast lg">
					<div data-v-66ae1b7c="" class="wrap">
						<svg data-v-66ae1b7c="" xmlns="http://www.w3.org/2000/svg"
							class="icon sprite-icons toast-icon toast-success">
                        <use data-v-66ae1b7c="" href="" xlink:href=""></use></svg>
						<div data-v-66ae1b7c="" class="toast-content">
							<p data-v-66ae1b7c="">내용</p>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	</div>
	<!-- 팝업창 -->
	<div id="popupDiv" style="display: none">
		<div class="layer_container2">
			<!-- 상품 추가하기 -->
			<div class="layer_header">
				<h2 class="title" id="add_title" style="padding: 16px">상품 추가하기</h2>
				<img src="/lib/img/nav_close_icon.png" alt="닫기"
					class="btn_layer_close" id="popCloseBtn">
			</div>
			<!-- 검색창 버튼  -->
			<div class="popup_search">
				<input type="text" placeholder="브랜드명,모델명, 모델번호 등" id="input_search"
					class="in_search">
				<div class="search_delet">삭제</div>
			</div>


			<div data-v-5b7f94e6="" class="search_suggests2" id="search_suggests"
				style="display: block;">
				<div data-v-6c61cf2d="" data-v-5b7f94e6="" class="suggest_list lg"
					id="suggest_list"></div>
			</div>
			<!--  -->
			<!-- 하단 취소하기 / 저장하기 버튼 -->
			<div class="bottom_button" id="back">
				<button class="btn solid outlinegrey btn_delete">취소</button>
			</div>
		</div>
	</div>
	<script>
	/* 상품 검색 모달 창 */
	     document.getElementById('upload_img_box').addEventListener('click', function() {

	         document.querySelector('.layer_delivery.layer.lg').style.display = 'none';	         
	         document.getElementById('popupDiv').style.display = 'block';
      });
	
	     document.getElementById('back').addEventListener('click', function() {

	         document.querySelector('.layer_delivery.layer.lg').style.display = 'block';	         
	         document.getElementById('popupDiv').style.display = 'none';
      });
	/*  */
      document.getElementById('voc').addEventListener('click', function() {
         document.querySelector('.layer_delivery.layer.lg').style.display = 'block';
      });
      document.getElementById('follower').addEventListener('click', function() {
         document.querySelector('.layer_delivery.layer.lg2').style.display = 'block';
      });
      document.getElementById('following').addEventListener('click', function() {
         document.querySelector('.layer_delivery.layer.lg3').style.display = 'block';
      });
      document
            .querySelector('.btn_layer_close')
            .addEventListener(
                  'click',
                  function() {
                     document.querySelector('.layer_delivery.layer.lg').style.display = 'none';
                  });
      document
            .querySelector('.btn_delete')
            .addEventListener(
                  'click',
                  function() {
                     document.querySelector('.layer_delivery.layer.lg').style.display = 'none';
                  });
      document
      .querySelector('.btn_delete2')
            .addEventListener(
                  'click',
                  function() {
                     document.querySelector('.layer_delivery.layer.lg2').style.display = 'none';
                  });
      document
      .querySelector('.btn_delete3')
            .addEventListener(
                  'click',
                  function() {
                     document.querySelector('.layer_delivery.layer.lg3').style.display = 'none';
                  });
      document
      .querySelector('.btn_save')
      .addEventListener(
            'click',
            function() {
            	
            	let csrfHeaderName ="${_csrf.headerName}";
                let csrfTokenValue="${_csrf.token}";
               
                let contents = $("#upload_textbox").val();
                let data = {'contents':contents};

                   $.ajax({
                    url: "http://127.0.0.1:5000/positiveNegativeResult", 
                    method: 'post',
                    beforeSend : function(xhr){
                        xhr.setRequestHeader(csrfHeaderName, csrfTokenValue);
                	},  
                    contentType: 'application/json; charset=UTF-8',
                    dataType: 'JSON',
                    data: JSON.stringify(data),
                    success : function(res){
                    	alert("긍부정 결과는 "+res.percent+"% 확률로 "+res.result+" 입니다.");
                    	$("#sentiment_percent").val(res.percent);
                    	$("#sentiment_result").val(res.result);
                    	enrollForm.submit(); 
                        alert("등록이 완료되었습니다.");
                    	
                    	
                    },
                    error : function(xhr){
                    	alert(xhr.status+" "+xhr.statusText);
                    }
                    
                  })
                	
            	
             
            });

      /* 이미지 업로드 */
      $("input[type='file']").on("change", function(e) {
         /* 이미지 존재시 삭제 */
         if($(".imgDeleteBtn").length > 0){
            deleteFile();
         }
         //let formData = new FormData();
         let fileInput = $('input[name="uploadFile"]');
         let fileList = fileInput[0].files;
         let fileObj = fileList[0];
         
         let csrfHeaderName ="${_csrf.headerName}";
         let csrfTokenValue="${_csrf.token}";
            
         //if (!fileCheck(fileObj.name, fileObj.size)) {
            //return false;
         //}
         for (let i = 0; i < fileList.length; i++){
        	console.log(fileList[i] + "여기2");
            let fileObj = fileList[i];
            let formData = new FormData();
            formData.append("uploadFile", fileObj);   
            $.ajax({
               url : '/social/user/uploadAjaxAction',
               processData : false,
               contentType : false,
               data : formData,
               type : 'post',
               dataType : 'json',
               beforeSend: function(xhr) {
                       xhr.setRequestHeader(csrfHeaderName, csrfTokenValue);},
                  success : function(result){
                        console.log(result + "여기!");
                        showUploadImage(result);
                     },
                     error : function(result){
                        alert("이미지 파일이 아닙니다.");
                     }
               });
         }
      });

      /* var, method related with attachFile */
      let regex = new RegExp("(.*?)\.(jpg|png)$");
      let maxSize = 1048576; //1MB   
      function fileCheck(fileName, fileSize) {
         if (fileSize >= maxSize) {
            alert("파일 사이즈 초과");
            return false;
         }
         if (!regex.test(fileName)) {
            alert("해당 종류의 파일은 업로드할 수 없습니다.");
            return false;
         }
         return true;
      }
      
      /* 이미지 출력 */
      function showUploadImage(uploadResultArr) {
         /* 전달받은 데이터 검증 */
         if (!uploadResultArr || uploadResultArr.length == 0) {
            return
         }
         let uploadResult = $("#uploadResult");
         let obj = uploadResultArr[0];
         let str = "";
         let fileCallPath = obj.upload_path + "/s_" + obj.uuid + "_" + obj.file_name;
         //str += "<div id='result_card'>";
         //str += "<img src='/social/user/display?fileName=/" + fileCallPath + "' referrerpolicy='no-referrer'>";
         console.log(fileCallPath);
         //str += "<div class='imgDeleteBtn' data-file='" + fileCallPath + "'>x</div>";
         str += "<input type='hidden' name='socialList[0].file_name' value='"+ obj.file_name +"'>";
         str += "<input type='hidden' name='socialList[0].uuid' value='"+ obj.uuid +"'>";
         str += "<input type='hidden' name='socialList[0].upload_path' value='"+ obj.upload_path +"'>";
         //str += "</div>";
         uploadResult.append(str);
      }

      /* 이미지 삭제 버튼 동작 */
      $("#uploadResult").on("click", ".imgDeleteBtn", function(e) {
         deleteFile();
      });
      
      /* 파일 삭제 메서드 */
      function deleteFile(){
         let targetFile = $(".imgDeleteBtn").data("file");
         let targetDiv = $("#result_card");
         
         let csrfHeaderName ="${_csrf.headerName}";
            let csrfTokenValue="${_csrf.token}";
            
         $.ajax({
            url: '/social/user/deleteFile',
            data : {fileName : targetFile},
            dataType : 'text',
            type : 'POST',
            beforeSend: function(xhr) {
                    xhr.setRequestHeader(csrfHeaderName, csrfTokenValue);},
            success : function(result){
               console.log(result);
               
               targetDiv.remove();
               $("input[type='file']").val("");
               
            },
            error : function(result){
               console.log(result);
               alert("파일을 삭제하지 못하였습니다.")
            }
         });
      }
      
   </script>
	<script type="text/javascript">
	$(window)
			.ready(
					function() {
						$('#input_search').keyup( function() {
							// console.log("1212");
							if (document.getElementById('input_search').value == "") {
								document.getElementById('search_suggests').style.display = 'none';
							} else {
								document.getElementById('search_suggests').style.display = 'block';
							}
							searchList(1,"K",document.getElementById('input_search').value);
						});
						
						// ajax로 검색 제품 띄우기
						function searchList(page, type, keyword ) {

							console.log("제품 띄우기 실행2 ");

							let product_array;
							let totalCnt;

							$
									.ajax(
											{
												url : "${pageContext.request.contextPath}/product/searchProductList?&page="
														+ page,
												data : {
													"type" : type,
													"keyword" : keyword
												}
											})
									.done(
											function(data) {
												console.log("data :" + data);
												product_array = data.products;
												
												if (product_array == null
														|| product_array.length == 0) {
													$("#suggest_list").html("");
													return;
												}
												
												let html_tmp = "";
												
												for (let i = 0; i < product_array.length; i++) {
													let product = product_array.at(i);
													
													let tmp = "";
													
													
													tmp += "<div data-v-6c61cf2d='' id = 'suggest_item' class='suggest_item' data-pid ='"+ product_array.at(i).product.pid +"' data-img ='"+product_array.at(i).product.img1+"' data-pname_k = '"+product_array.at(i).product.pname_k+"'><a data-v-6c61cf2d='' class='suggest_link'>"
 													tmp += "	<div data-v-6c61cf2d='' class='suggest_thumb' style='background-color: rgb(244, 244, 244);'>"
													tmp += "			<picture data-v-878ec45c='' data-v-09fbcf09='' class='picture thumb_img'>"
													tmp += "				<source data-v-878ec45c='' type='image/webp'"
													tmp += "					srcset='"+ product_array.at(i).product.img1+ "'>"
													tmp += "				<source data-v-878ec45c=''";
													tmp += "					srcset='"+ product_array.at(i).product.img1+ "'>"
													tmp += "				<img data-v-878ec45c='' alt='#'"
													tmp += "					referrerpolicy='no-referrer' loading='lazy' class='image' src='"+ product_array.at(i).product.img1+ "'>"
													tmp += "			</picture>"													
													
													
													tmp += "	</div>"
													tmp += "	<div data-v-6c61cf2d='' class='suggest_info'>"
													tmp += "		<p data-v-6c61cf2d='' class='model_title'>" + product_array.at(i).product.pname_e + "</p>"
													tmp += "		<p data-v-6c61cf2d='' class='model_sub_info'>" + product_array.at(i).product.pname_k + "</p>"
													tmp += "	</div></a>" 
													tmp += "</div>"
													
													html_tmp += tmp;
												}
												$("#suggest_list").html(html_tmp);
												
											});
						}
						
			            // 검색목록 클릭시
			            $(document).on("click", "#suggest_item", function (e) {
			            	console.log(e.currentTarget.dataset.pid);
			            	
 			                let product_id = document.querySelectorAll(".product_id");
			                //let index = $(".suggest_link2").index(this);
			                //let id = $(this).attr('id');
			                for(let i=0; i<product_id.length; i++){
			                    if(e.currentTarget.dataset.pid == product_id.item(i).value){
			                        alert("같은 상품 태그가 존재합니다.");
			                        return false;
			                    }
			                }
			                
			                //let origFileName = response.data.data[index].origFileName;
			                //let name = response.data.data[index].name;
			                $('#search_product').before(
			                    '<span class="product_box_span"><div class="upload_productbox"><input type="hidden" class="product_id" value="'+e.currentTarget.dataset.pid+'">' +
			                    '<img src="'+e.currentTarget.dataset.img+'" alt="상품태그 이미지" class="upload_product_img">' +
			                    '<p style="font-size:12px">'+e.currentTarget.dataset.pname_k+'</p></div><br><button class="product_del">삭제</button></span>'
			                );
			                $("#popupDiv").css("display", "none"); //팝업창 display none
			                document.querySelector('.layer_delivery.layer.lg').style.display = 'block';
			                //$("body").css("overflow", "auto");//body 스크롤바 생성
			                $("#input_search").val('');//태그상품 검색창 비우기
			                //$(".product_plus").css('display', 'none');//태그상품 검색목록 감추기 
			                //document.getElementsByName("pid" + product_id.length)[0]. value;
			                console.log("pid" + product_id.length);
			                console.log(document.getElementsByName("pid" + product_id.length)[0]. value);
			                document.getElementsByName("pid" + product_id.length)[0]. value = e.currentTarget.dataset.pid;
			                console.log(document.getElementsByName("pid" + product_id.length)[0]. value);
			                
			                let product_id2 = document.querySelectorAll(".product_id");
 							if (product_id2.length == 3) {
			                	//$('#search_product').style.display = 'none';
			                	//$("#search_product").css("display", "none"); //팝업창 display none
			                	$("#search_product").css("display", "none"); //팝업창 display none
			                	alert("상품 추가는 3개까지만 가능합니다.");
			                	return false;			                	
			                }
			            });		
			            
			            
			            
			            // 검색목록 클릭시
			            $("#followBtn").on("click", function (e) {
			            	console.log(e.currentTarget.innerHTML);
			      		 var follower = $("#mid").val();
			      		 var following = document.getElementById("member_email").innerText;
			      			 console.log(following);
			      			 console.log(follower);
			      		if (e.currentTarget.innerHTML == '팔로우') {			 
			      			 
			      				$.ajax({		
			      					url: "/social/insertFollow",
			      					data: {
			      						"follower" : follower,
			      						"following" : following
			      					}
			      				}).done(function (data) {
			      					console.log("insert" + data.result);
			      					if (data.result === 1) {
			      						
			      						alert("팔로우 합니다");
			      						$("#followBtn").removeClass('solid');
			      						$("#followBtn").addClass('outlinegrey');
			      						//('solid','outlinegrey');
			      						document.getElementById("followBtn").innerText = "팔로잉";
			      						document.getElementById("followerCnt").innerText = data.followerCnt;
			      						
			      						if (socket) {
			      							let socketMsg = "follow," + follower +","+ following +","+ following +","+ " ";
			      							console.log("msgmsg : " + socketMsg);
			      							socket.send(socketMsg);
			      						}
			      						
			      						
			      					} else {
			      						alert("팔로우 에러");
			      					}
			      				});	 	
			      			} else {	
			      				 console.log(following);
			      				 console.log(follower);
			      				 
			      					$.ajax({
			      						url: "/social/deleteFollow",
			      						data: {
			      							"follower" : follower,
			      							"following" : following
			      						}
			      					}).done(function (data) {
			      						console.log("delete" + data.result);
			      						if (data.result === 1) {
			      							alert("팔로우를 취소 합니다");
			      							$("#followBtn").removeClass('outlinegrey');
			      							$("#followBtn").addClass('solid');
			      							document.getElementById("followBtn").innerText = "팔로우"
			      							document.getElementById("followerCnt").innerText = data.followerCnt;
			      						} else {
			      							alert("팔로우 취소 에러");
			      						}
			      					});	 
			      			}
			            });	
			            
			            
						
					});
</script>
	<link
		href="${pageContext.request.contextPath}/resources/css/c163ebe.css"
		rel="stylesheet" type="text/css">
	<link
		href="${pageContext.request.contextPath}/resources/css/0721927.css"
		rel="stylesheet" type="text/css">
	<link
		href="${pageContext.request.contextPath}/resources/css/325de86.css"
		rel="stylesheet" type="text/css">
	<link
		href="${pageContext.request.contextPath}/resources/css/24dfaf3.css"
		rel="stylesheet" type="text/css">
	<link
		href="${pageContext.request.contextPath}/resources/css/a52fa45.css"
		rel="stylesheet" type="text/css">
	<link
		href="${pageContext.request.contextPath}/resources/css/240da25.css"
		rel="stylesheet" type="text/css">
	<link
		href="${pageContext.request.contextPath}/resources/css/f0dbc2f.css"
		rel="stylesheet" type="text/css">
	<link
		href="${pageContext.request.contextPath}/resources/css/1e20f03.css"
		rel="stylesheet" type="text/css">
	<link
		href="${pageContext.request.contextPath}/resources/css/aca0784.css"
		rel="stylesheet" type="text/css">
	<link
		href="${pageContext.request.contextPath}/resources/css/9218b3f.css"
		rel="stylesheet" type="text/css">
	<link
		href="${pageContext.request.contextPath}/resources/css/60ed898.css"
		rel="stylesheet" type="text/css">
	<link
		href="${pageContext.request.contextPath}/resources/css/7836ff9.css"
		rel="stylesheet" type="text/css">
	<link
		href="${pageContext.request.contextPath}/resources/css/3dd8bc4.css"
		rel="stylesheet" type="text/css">
	<link
		href="${pageContext.request.contextPath}/resources/css/3e742b2.css"
		rel="stylesheet" type="text/css">
	<link
		href="${pageContext.request.contextPath}/resources/css/97ccca4.css"
		rel="stylesheet" type="text/css">
	<link
		href="${pageContext.request.contextPath}/resources/css/2bffad8.css"
		rel="stylesheet" type="text/css">
</body>
</html>